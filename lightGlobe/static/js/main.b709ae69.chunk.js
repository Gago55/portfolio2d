(this.webpackJsonpglobus=this.webpackJsonpglobus||[]).push([[0],{163:function(e){e.exports=JSON.parse("[]")},173:function(e){e.exports=JSON.parse('[{"city":"Tokyo","country":"Japan","lat":35.6897,"lng":139.6922,"id":1},{"city":"Jakarta","country":"Indonesia","lat":-6.2146,"lng":106.8451,"id":2},{"city":"Manila","country":"Philippines","lat":14.5958,"lng":120.9772,"id":3},{"city":"Seoul","country":"Korea, South","lat":37.5833,"lng":127,"id":4},{"city":"Mexico City","country":"Mexico","lat":19.4333,"lng":-99.1333,"id":5},{"city":"Beijing","country":"China","lat":39.905,"lng":116.3914,"id":6},{"city":"Cairo","country":"Egypt","lat":30.0561,"lng":31.2394,"id":7},{"city":"Moscow","country":"Russia","lat":55.7558,"lng":37.6178,"id":8},{"city":"Bangkok","country":"Thailand","lat":13.75,"lng":100.5167,"id":9},{"city":"Buenos Aires","country":"Argentina","lat":-34.5997,"lng":-58.3819,"id":10},{"city":"Dhaka","country":"Bangladesh","lat":23.7161,"lng":90.3961,"id":11},{"city":"Tehran","country":"Iran","lat":35.7,"lng":51.4167,"id":12},{"city":"Kinshasa","country":"Congo (Kinshasa)","lat":-4.3317,"lng":15.3139,"id":13},{"city":"Paris","country":"France","lat":48.8566,"lng":2.3522,"id":14},{"city":"London","country":"United Kingdom","lat":51.5072,"lng":-0.1275,"id":15},{"city":"Lima","country":"Peru","lat":-12.05,"lng":-77.0333,"id":16},{"city":"Bogota","country":"Colombia","lat":4.6126,"lng":-74.0705,"id":17},{"city":"Luanda","country":"Angola","lat":-8.8383,"lng":13.2344,"id":18},{"city":"Kuala Lumpur","country":"Malaysia","lat":3.1478,"lng":101.6953,"id":19},{"city":"Hanoi","country":"Vietnam","lat":21.0245,"lng":105.8412,"id":20},{"city":"Khartoum","country":"Sudan","lat":15.6031,"lng":32.5265,"id":21},{"city":"Santiago","country":"Chile","lat":-33.45,"lng":-70.6667,"id":22},{"city":"Riyadh","country":"Saudi Arabia","lat":24.65,"lng":46.71,"id":23},{"city":"Dar es Salaam","country":"Tanzania","lat":-6.8,"lng":39.2833,"id":24},{"city":"Baghdad","country":"Iraq","lat":33.35,"lng":44.4167,"id":25},{"city":"Singapore","country":"Singapore","lat":1.3,"lng":103.8,"id":26},{"city":"Nairobi","country":"Kenya","lat":-1.2864,"lng":36.8172,"id":27},{"city":"Ankara","country":"Turkey","lat":39.93,"lng":32.85,"id":28},{"city":"Rangoon","country":"Burma","lat":16.8,"lng":96.15,"id":29},{"city":"Washington","country":"United States","lat":38.9047,"lng":-77.0163,"id":30},{"city":"Abidjan","country":"C\xf4te D\u2019Ivoire","lat":5.3364,"lng":-4.0267,"id":31},{"city":"Amman","country":"Jordan","lat":31.95,"lng":35.9333,"id":32},{"city":"Kabul","country":"Afghanistan","lat":34.5328,"lng":69.1658,"id":33},{"city":"Berlin","country":"Germany","lat":52.5167,"lng":13.3833,"id":34},{"city":"Algiers","country":"Algeria","lat":36.7764,"lng":3.0586,"id":35},{"city":"Madrid","country":"Spain","lat":40.4189,"lng":-3.6919,"id":36},{"city":"Addis Ababa","country":"Ethiopia","lat":9.0272,"lng":38.7369,"id":37},{"city":"Brasilia","country":"Brazil","lat":-15.7744,"lng":-48.0773,"id":38},{"city":"Kyiv","country":"Ukraine","lat":50.45,"lng":30.5236,"id":39},{"city":"Sanaa","country":"Yemen","lat":15.35,"lng":44.2,"id":40},{"city":"Rome","country":"Italy","lat":41.8931,"lng":12.4828,"id":41},{"city":"La Paz","country":"Bolivia","lat":-16.4942,"lng":-68.1475,"id":42},{"city":"Pyongyang","country":"Korea, North","lat":39.03,"lng":125.73,"id":43},{"city":"Taipei","country":"Taiwan","lat":25.0478,"lng":121.5319,"id":44},{"city":"Antananarivo","country":"Madagascar","lat":-18.9386,"lng":47.5214,"id":45},{"city":"Santo Domingo","country":"Dominican Republic","lat":18.4764,"lng":-69.8933,"id":46},{"city":"Guatemala City","country":"Guatemala","lat":14.6099,"lng":-90.5252,"id":47},{"city":"Yaounde","country":"Cameroon","lat":3.8578,"lng":11.5181,"id":48},{"city":"Tashkent","country":"Uzbekistan","lat":41.3,"lng":69.2667,"id":49},{"city":"Accra","country":"Ghana","lat":5.6037,"lng":-0.187,"id":50},{"city":"Baku","country":"Azerbaijan","lat":40.3667,"lng":49.8352,"id":51},{"city":"Havana","country":"Cuba","lat":23.1367,"lng":-82.3589,"id":52},{"city":"Phnom Penh","country":"Cambodia","lat":11.5696,"lng":104.921,"id":53},{"city":"Mogadishu","country":"Somalia","lat":2.0408,"lng":45.3425,"id":54},{"city":"Minsk","country":"Belarus","lat":53.9022,"lng":27.5618,"id":55},{"city":"Bamako","country":"Mali","lat":12.6458,"lng":-7.9922,"id":56},{"city":"Quito","country":"Ecuador","lat":-0.2186,"lng":-78.5097,"id":57},{"city":"Caracas","country":"Venezuela","lat":10.5,"lng":-66.9333,"id":58},{"city":"Bucharest","country":"Romania","lat":44.4,"lng":26.0833,"id":59},{"city":"Asuncion","country":"Paraguay","lat":-25.3,"lng":-57.6333,"id":60},{"city":"Vienna","country":"Austria","lat":48.2083,"lng":16.3731,"id":61},{"city":"Brazzaville","country":"Congo (Brazzaville)","lat":-4.2667,"lng":15.2833,"id":62},{"city":"Warsaw","country":"Poland","lat":52.2167,"lng":21.0333,"id":63},{"city":"Damascus","country":"Syria","lat":33.5131,"lng":36.2919,"id":64},{"city":"Budapest","country":"Hungary","lat":47.4983,"lng":19.0408,"id":65},{"city":"Lusaka","country":"Zambia","lat":-15.4167,"lng":28.2833,"id":66},{"city":"Conakry","country":"Guinea","lat":9.5092,"lng":-13.7122,"id":67},{"city":"Kampala","country":"Uganda","lat":0.3136,"lng":32.5811,"id":68},{"city":"Rabat","country":"Morocco","lat":34.0253,"lng":-6.8361,"id":69},{"city":"Ouagadougou","country":"Burkina Faso","lat":12.3572,"lng":-1.5353,"id":70},{"city":"Harare","country":"Zimbabwe","lat":-17.8292,"lng":31.0522,"id":71},{"city":"Muscat","country":"Oman","lat":23.6139,"lng":58.5922,"id":72},{"city":"The Hague","country":"Netherlands","lat":52.08,"lng":4.27,"id":73},{"city":"Ulaanbaatar","country":"Mongolia","lat":47.9203,"lng":106.9172,"id":74},{"city":"Belgrade","country":"Serbia","lat":44.8167,"lng":20.4667,"id":75},{"city":"Islamabad","country":"Pakistan","lat":33.6989,"lng":73.0369,"id":76},{"city":"Sofia","country":"Bulgaria","lat":42.6975,"lng":23.3241,"id":77},{"city":"Prague","country":"Czechia","lat":50.0833,"lng":14.4167,"id":78},{"city":"Montevideo","country":"Uruguay","lat":-34.8667,"lng":-56.1667,"id":79},{"city":"Doha","country":"Qatar","lat":25.3,"lng":51.5333,"id":80},{"city":"Abuja","country":"Nigeria","lat":9.0556,"lng":7.4914,"id":81},{"city":"Tunis","country":"Tunisia","lat":36.8008,"lng":10.18,"id":82},{"city":"Maputo","country":"Mozambique","lat":-25.9153,"lng":32.5764,"id":83},{"city":"Dublin","country":"Ireland","lat":53.3425,"lng":-6.2658,"id":84},{"city":"Nay Pyi Taw","country":"Burma","lat":19.8028,"lng":96.1583,"id":85},{"city":"Dakar","country":"Senegal","lat":14.7319,"lng":-17.4572,"id":86},{"city":"Tegucigalpa","country":"Honduras","lat":14.0942,"lng":-87.2067,"id":87},{"city":"Tripoli","country":"Libya","lat":32.8752,"lng":13.1875,"id":88},{"city":"Tbilisi","country":"Georgia","lat":41.7225,"lng":44.7925,"id":89},{"city":"N\'Djamena","country":"Chad","lat":12.11,"lng":15.05,"id":90},{"city":"Copenhagen","country":"Denmark","lat":55.6786,"lng":12.5635,"id":91},{"city":"Yerevan","country":"Armenia","lat":40.1814,"lng":44.5144,"id":92},{"city":"Nur-Sultan","country":"Kazakhstan","lat":51.1333,"lng":71.4333,"id":93},{"city":"Nouakchott","country":"Mauritania","lat":18.0783,"lng":-15.9744,"id":94},{"city":"Bishkek","country":"Kyrgyzstan","lat":42.8667,"lng":74.5667,"id":95},{"city":"Amsterdam","country":"Netherlands","lat":52.35,"lng":4.9166,"id":96},{"city":"Ashgabat","country":"Turkmenistan","lat":37.95,"lng":58.3833,"id":97},{"city":"Niamey","country":"Niger","lat":13.5086,"lng":2.1111,"id":98},{"city":"Managua","country":"Nicaragua","lat":12.15,"lng":-86.2667,"id":99},{"city":"Monrovia","country":"Liberia","lat":6.3106,"lng":-10.8047,"id":100},{"city":"Port-au-Prince","country":"Haiti","lat":18.5425,"lng":-72.3386,"id":101},{"city":"Kathmandu","country":"Nepal","lat":27.7167,"lng":85.3667,"id":102},{"city":"Abu Dhabi","country":"United Arab Emirates","lat":24.4781,"lng":54.3686,"id":103},{"city":"Stockholm","country":"Sweden","lat":59.3294,"lng":18.0686,"id":104},{"city":"Asmara","country":"Eritrea","lat":15.3333,"lng":38.9167,"id":105},{"city":"Freetown","country":"Sierra Leone","lat":8.4833,"lng":-13.2331,"id":106},{"city":"Jerusalem","country":"Israel","lat":31.7833,"lng":35.2167,"id":107},{"city":"Panama City","country":"Panama","lat":9,"lng":-79.5,"id":108},{"city":"Lome","country":"Togo","lat":6.1319,"lng":1.2228,"id":109},{"city":"Libreville","country":"Gabon","lat":0.3901,"lng":9.4544,"id":110},{"city":"Zagreb","country":"Croatia","lat":45.8,"lng":15.95,"id":111},{"city":"Dushanbe","country":"Tajikistan","lat":38.5731,"lng":68.7864,"id":112},{"city":"Lilongwe","country":"Malawi","lat":-13.9833,"lng":33.7833,"id":113},{"city":"Cotonou","country":"Benin","lat":6.4,"lng":2.52,"id":114},{"city":"Vientiane","country":"Laos","lat":17.9667,"lng":102.6,"id":115},{"city":"Colombo","country":"Sri Lanka","lat":6.9167,"lng":79.8333,"id":116},{"city":"Kigali","country":"Rwanda","lat":-1.9536,"lng":30.0606,"id":117},{"city":"Pretoria","country":"South Africa","lat":-25.7464,"lng":28.1881,"id":118},{"city":"Bangui","country":"Central African Republic","lat":4.3732,"lng":18.5628,"id":119},{"city":"Riga","country":"Latvia","lat":56.9475,"lng":24.1069,"id":120},{"city":"Oslo","country":"Norway","lat":59.9111,"lng":10.7528,"id":121},{"city":"Chisinau","country":"Moldova","lat":47.0056,"lng":28.8575,"id":122},{"city":"Athens","country":"Greece","lat":37.9794,"lng":23.7161,"id":123},{"city":"Bujumbura","country":"Burundi","lat":-3.3825,"lng":29.3611,"id":124},{"city":"Helsinki","country":"Finland","lat":60.1756,"lng":24.9342,"id":125},{"city":"Skopje","country":"Macedonia","lat":41.9833,"lng":21.4333,"id":126},{"city":"Kuwait City","country":"Kuwait","lat":29.375,"lng":47.98,"id":127},{"city":"Kingston","country":"Jamaica","lat":17.9714,"lng":-76.7931,"id":128},{"city":"Vilnius","country":"Lithuania","lat":54.6833,"lng":25.2833,"id":129},{"city":"San Salvador","country":"El Salvador","lat":13.6989,"lng":-89.1914,"id":130},{"city":"Djibouti","country":"Djibouti","lat":11.595,"lng":43.1481,"id":131},{"city":"Lisbon","country":"Portugal","lat":38.7452,"lng":-9.1604,"id":132},{"city":"Tallinn","country":"Estonia","lat":59.4372,"lng":24.745,"id":133},{"city":"Cape Town","country":"South Africa","lat":-33.925,"lng":18.425,"id":134},{"city":"Bratislava","country":"Slovakia","lat":48.1447,"lng":17.1128,"id":135},{"city":"Tirana","country":"Albania","lat":41.33,"lng":19.82,"id":136},{"city":"Canberra","country":"Australia","lat":-35.2931,"lng":149.1269,"id":137},{"city":"Wellington","country":"New Zealand","lat":-41.2889,"lng":174.7772,"id":138},{"city":"Beirut","country":"Lebanon","lat":33.8869,"lng":35.5131,"id":139},{"city":"Dodoma","country":"Tanzania","lat":-6.25,"lng":35.75,"id":140},{"city":"Bissau","country":"Guinea-Bissau","lat":11.8592,"lng":-15.5956,"id":141},{"city":"Juba","country":"South Sudan","lat":4.85,"lng":31.6,"id":142},{"city":"Port Moresby","country":"Papua New Guinea","lat":-9.4789,"lng":147.1494,"id":143},{"city":"Yamoussoukro","country":"C\xf4te D\u2019Ivoire","lat":6.8161,"lng":-5.2742,"id":144},{"city":"Maseru","country":"Lesotho","lat":-29.31,"lng":27.48,"id":145},{"city":"Nicosia","country":"Cyprus","lat":35.1725,"lng":33.365,"id":146},{"city":"Windhoek","country":"Namibia","lat":-22.57,"lng":17.0836,"id":147},{"city":"Porto-Novo","country":"Benin","lat":6.4833,"lng":2.6167,"id":148},{"city":"Sucre","country":"Bolivia","lat":-19.0431,"lng":-65.2592,"id":149},{"city":"San Jose","country":"Costa Rica","lat":9.9333,"lng":-84.0833,"id":150},{"city":"Ljubljana","country":"Slovenia","lat":46.05,"lng":14.5167,"id":151},{"city":"Sarajevo","country":"Bosnia And Herzegovina","lat":43.8667,"lng":18.4167,"id":152},{"city":"Nassau","country":"Bahamas, The","lat":25.0667,"lng":-77.3333,"id":153},{"city":"Bloemfontein","country":"South Africa","lat":-29.1,"lng":26.2167,"id":154},{"city":"Gaborone","country":"Botswana","lat":-24.6569,"lng":25.9086,"id":155},{"city":"Paramaribo","country":"Suriname","lat":5.8667,"lng":-55.1667,"id":156},{"city":"Dili","country":"Timor-Leste","lat":-8.5586,"lng":125.5736,"id":157},{"city":"Pristina","country":"Kosovo","lat":42.6667,"lng":21.1667,"id":158},{"city":"Georgetown","country":"Guyana","lat":6.7833,"lng":-58.1667,"id":159},{"city":"Malabo","country":"Equatorial Guinea","lat":3.7521,"lng":8.7737,"id":160},{"city":"Brussels","country":"Belgium","lat":50.8467,"lng":4.3517,"id":161},{"city":"Male","country":"Maldives","lat":4.175,"lng":73.5083,"id":162},{"city":"Podgorica","country":"Montenegro","lat":42.4397,"lng":19.2661,"id":163},{"city":"Manama","country":"Bahrain","lat":26.2167,"lng":50.5831,"id":164},{"city":"Port Louis","country":"Mauritius","lat":-20.1667,"lng":57.5,"id":165},{"city":"New Delhi","country":"India","lat":28.7,"lng":77.2,"id":166},{"city":"Bern","country":"Switzerland","lat":46.948,"lng":7.4474,"id":167},{"city":"Reykjavik","country":"Iceland","lat":64.1475,"lng":-21.935,"id":168},{"city":"Praia","country":"Cabo Verde","lat":14.9177,"lng":-23.5092,"id":169},{"city":"Luxembourg","country":"Luxembourg","lat":49.6106,"lng":6.1328,"id":170},{"city":"Sri Jayewardenepura Kotte","country":"Sri Lanka","lat":6.9,"lng":79.9164,"id":171},{"city":"Bridgetown","country":"Barbados","lat":13.0975,"lng":-59.6167,"id":172},{"city":"Moroni","country":"Comoros","lat":-11.7036,"lng":43.2536,"id":173},{"city":"Thimphu","country":"Bhutan","lat":27.4833,"lng":89.6333,"id":174},{"city":"Mbabane","country":"Swaziland","lat":-26.3167,"lng":31.1333,"id":175},{"city":"Honiara","country":"Solomon Islands","lat":-9.4333,"lng":159.95,"id":176},{"city":"Suva","country":"Fiji","lat":-18.1333,"lng":178.4333,"id":177},{"city":"Castries","country":"Saint Lucia","lat":14.0167,"lng":-60.9833,"id":178},{"city":"Sao Tome","country":"Sao Tome And Principe","lat":0.3333,"lng":6.7333,"id":179},{"city":"Port-Vila","country":"Vanuatu","lat":-17.75,"lng":168.3,"id":180},{"city":"Bandar Seri Begawan","country":"Brunei","lat":4.9167,"lng":114.9167,"id":181},{"city":"Monaco","country":"Monaco","lat":43.7396,"lng":7.4069,"id":182},{"city":"Gitega","country":"Burundi","lat":-3.4264,"lng":29.9306,"id":183},{"city":"Port of Spain","country":"Trinidad And Tobago","lat":10.6667,"lng":-61.5167,"id":184},{"city":"Apia","country":"Samoa","lat":-13.8333,"lng":-171.8333,"id":185},{"city":"Vaduz","country":"Liechtenstein","lat":47.1415,"lng":9.5215,"id":186},{"city":"Banjul","country":"Gambia, The","lat":13.4531,"lng":-16.5775,"id":187},{"city":"Tarawa","country":"Kiribati","lat":1.3382,"lng":173.0176,"id":188},{"city":"Victoria","country":"Seychelles","lat":-4.6236,"lng":55.4544,"id":189},{"city":"Majuro","country":"Marshall Islands","lat":7.1167,"lng":171.3667,"id":190},{"city":"Kingstown","country":"Saint Vincent And The Grenadines","lat":13.1667,"lng":-61.2333,"id":191},{"city":"Nuku`alofa","country":"Tonga","lat":-21.1347,"lng":-175.2083,"id":192},{"city":"Saint John\'s","country":"Antigua And Barbuda","lat":17.1211,"lng":-61.8447,"id":193},{"city":"Andorra la Vella","country":"Andorra","lat":42.5,"lng":1.5,"id":194},{"city":"Belmopan","country":"Belize","lat":17.25,"lng":-88.7675,"id":195},{"city":"Roseau","country":"Dominica","lat":15.3,"lng":-61.3833,"id":196},{"city":"Basseterre","country":"Saint Kitts And Nevis","lat":17.2983,"lng":-62.7342,"id":197},{"city":"Pago Pago","country":"American Samoa","lat":-14.274,"lng":-170.7046,"id":198},{"city":"Valletta","country":"Malta","lat":35.8978,"lng":14.5125,"id":199},{"city":"Palikir","country":"Micronesia, Federated States Of","lat":6.9178,"lng":158.185,"id":200},{"city":"Funafuti","country":"Tuvalu","lat":-8.5167,"lng":179.2167,"id":201},{"city":"Lobamba","country":"Swaziland","lat":-26.4167,"lng":31.1667,"id":202},{"city":"Saint George\'s","country":"Grenada","lat":12.0444,"lng":-61.7417,"id":203},{"city":"San Marino","country":"San Marino","lat":43.932,"lng":12.4484,"id":204},{"city":"Al Quds","country":"West Bank","lat":31.7764,"lng":35.2269,"id":205},{"city":"Capitol Hill","country":"Northern Mariana Islands","lat":15.2137,"lng":145.7546,"id":206},{"city":"Hagta","country":"Guam","lat":13.4745,"lng":144.7504,"id":207},{"city":"Ngerulmud","country":"Palau","lat":7.5006,"lng":134.6242,"id":208}]')},219:function(e,t,o){},224:function(e,t){},260:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(34),r=o.n(i),c=(o(219),o(54)),s=o(346),l=o(267),d=o(2),u=function(e){return Object(d.jsx)(s.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(d.jsx)(l.a,{variant:"h3",children:e.message})})},b=o(20),g=o(26),y=o(19),p=o(6),h=o(171),j=o.n(h),m=o(170),O=o.n(m),f=o(356),x=o(317),v=o(344),S=o(357),w=o(358),C=o(337),D=o(336),A=o(352),T=o(325),M=o(348),P=o(343),R=o(347),E=o(354),k=o(330),z=o(355),I=o(360),_=o(16),B=o(9),N=o(124),L=o.n(N),G=o(163),F=o(164),V=o.n(F),H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shadowdecore";return L.a.AES.encrypt(e,t).toString()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shadowdecore";return L.a.AES.decrypt(e,t).toString(L.a.enc.Utf8)},U=function(e,t,o,n){return new Promise(function(){var a=Object(g.a)(Object(b.a)().mark((function a(i,r){var c,s,l,d,u,g;return Object(b.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=new V.a,a.next=4,c.loadAsync(G.data,{});case 4:for(s in c.file("encryption.js","var __SHA256 = '".concat(t,"'\nvar __SHA512 = '").concat(o,"'")),c.files)s.includes("globeTexture")&&(l=n.indexOf("base64,")+"base64,".length,d=n.substring(l),c.file(s,d,{base64:!0}));return a.next=8,c.generateAsync({type:"base64"});case 8:u=a.sent,(g=document.createElement("a")).href="data:application/zip;base64,"+u,g.download="globe_"+e+".zip",i(g),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),r(a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}())};window.enc=H,window.dec=W,window.c=U;var X={position:{x:0,y:4.9,z:107},target:{x:0,y:4.9,z:0},zoom:1},K=!1,Y=function(){var e={isError:!0,data:""};try{var t=W(window.__SHA256);if(window.location.hostname===t){var o=JSON.parse(W(window.__SHA512,window.location.hostname));e.isError=!1,e.data=o}else e.isError=!0,e.data="You bought your globe for "+t;return e}catch(n){return console.error(n),e}}(),J=Y.data.dots,Z=Y.data.dotsProps,Q=Y.data.orbitSettings,q=Y.data.cameraPosition,$=Y.data.atmosphereColor,ee=Y.data.rendererColor,te={isDevelopment:K,errorMessage:"object"===typeof Y.data?"":Y.data,dotSize:Y.isError?.5:Z.size,dotColor:Y.isError?"#ff0000":Z.color,globus:{radius:7,material:new B.MeshBasicMaterial({})},dots:Y.isError?[]:J,coords:[],selectedDotsIds:[],isSettingsOpen:!0,orbitSettings:Y.isError?{enableRotate:!0,enablePan:!1,enableZoom:!1,autoRotate:!0,autoRotateSpeed:.8,enableDamping:!1,dampingFactor:.09}:Q,atmosphereColor:Y.isError?"#5B5B5B":$,noteMode:Y.isError?"hover":Z.noteMode,cameraAction:"none",cameraPosition:Y.isError?X:q,rendererColor:Y.isError?"#FFFFFF":ee,pointPickMode:!1},oe={setDevelopmentMode:function(e){return{type:"globe/three/SET_DEVELOPMENT_MODE",value:e}},setDots:function(e){return{type:"globe/three/SET_DOTS",arr:e}},addDot:function(e){return{type:"globe/three/ADD_DOT",value:e}},removeDots:function(e){return{type:"globe/three/REMOVE_DOTS",ids:e}},resetDots:function(e){return{type:"globe/three/RESET_DOTS",ids:e}},addCoord:function(e){return{type:"globe/three/ADD_COORD",value:e}},setDotSize:function(e){return{type:"globe/three/SET_DOT_SIZE",value:e}},setDotColor:function(e){return{type:"globe/three/SET_DOT_COLOR",value:e}},setSelectedDotsIds:function(e){return{type:"globe/three/SET_SELECTED_DOTS_IDS",arr:e}},setIsSettingsOpen:function(e){return{type:"globe/three/SET_IS_SETTINGS_OPEN",value:e}},setIsOrbitSettings:function(e){return{type:"globe/three/SET_ORBIT_SETTINGS",value:e}},setNoteMode:function(e){return{type:"globe/three/SET_NOTE_MODE",value:e}},setAtmosphereColor:function(e){return{type:"globe/three/SET_ATMOSPHERE_COLOR",value:e}},setCameraAction:function(e){return{type:"globe/three/SET_CAMERA_ACTION",value:e}},setCameraPosition:function(e){return{type:"globe/three/SET_CAMERA_POSITION",value:e}},setRendererColor:function(e){return{type:"globe/three/SET_RENDERER_COLOR",value:e}},setPointPickMode:function(e){return{type:"globe/three/SET_POINT_PICK_MODE",value:e}}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"globe/three/SET_DEVELOPMENT_MODE":return Object(y.a)(Object(y.a)({},e),{},{isDevelopment:t.value});case"globe/three/SET_DOTS":return Object(y.a)(Object(y.a)({},e),{},{dots:Object(_.a)(t.arr)});case"globe/three/ADD_DOT":return Object(y.a)(Object(y.a)({},e),{},{dots:[].concat(Object(_.a)(e.dots),[t.value])});case"globe/three/REMOVE_DOTS":return Object(y.a)(Object(y.a)({},e),{},{dots:e.dots.filter((function(e){return!t.ids.includes(e.id)})),selectedDotsIds:[]});case"globe/three/RESET_DOTS":return Object(y.a)(Object(y.a)({},e),{},{dots:e.dots.map((function(e){return t.ids.includes(e.id)?Object(y.a)(Object(y.a)({},e),{},{color:void 0,size:void 0,noteMode:void 0}):Object(y.a)({},e)})),selectedDotsIds:[]});case"globe/three/ADD_COORD":return Object(y.a)(Object(y.a)({},e),{},{coords:[].concat(Object(_.a)(e.coords),[t.value])});case"globe/three/SET_DOT_SIZE":return Object(y.a)(Object(y.a)({},e),{},{dotSize:t.value});case"globe/three/SET_DOT_COLOR":return Object(y.a)(Object(y.a)({},e),{},{dotColor:t.value});case"globe/three/SET_SELECTED_DOTS_IDS":return Object(y.a)(Object(y.a)({},e),{},{selectedDotsIds:Object(_.a)(t.arr)});case"globe/three/SET_IS_SETTINGS_OPEN":return Object(y.a)(Object(y.a)({},e),{},{isSettingsOpen:t.value});case"globe/three/SET_ORBIT_SETTINGS":return Object(y.a)(Object(y.a)({},e),{},{orbitSettings:Object(y.a)({},t.value)});case"globe/three/SET_NOTE_MODE":return Object(y.a)(Object(y.a)({},e),{},{noteMode:t.value});case"globe/three/SET_ATMOSPHERE_COLOR":return Object(y.a)(Object(y.a)({},e),{},{atmosphereColor:t.value});case"globe/three/SET_CAMERA_ACTION":return Object(y.a)(Object(y.a)({},e),{},{cameraAction:t.value});case"globe/three/SET_CAMERA_POSITION":return Object(y.a)(Object(y.a)({},e),{},{cameraPosition:Object(y.a)({},t.value)});case"globe/three/SET_RENDERER_COLOR":return Object(y.a)(Object(y.a)({},e),{},{rendererColor:t.value});case"globe/three/SET_POINT_PICK_MODE":return Object(y.a)(Object(y.a)({},e),{},{pointPickMode:t.value});default:return e}},ae=o(88),ie=o.n(ae),re=o(359),ce=o(103),se=["children","column","fullWidth","centerX","centerY","sx"],le=["title","selectedType","type","children","setType"],de=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:7e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};e(t,{variant:o,anchorOrigin:{horizontal:"center",vertical:"bottom"},autoHideDuration:n,onClose:a})},ue=function(e){var t=e.children,o=e.column,n=e.fullWidth,a=e.centerX,i=e.centerY,r=e.sx,c=Object(ce.a)(e,se);return Object(d.jsx)(R.a,Object(y.a)(Object(y.a)({sx:Object(y.a)(Object(y.a)({display:"flex",flexDirection:o?"column":void 0,width:n?1:void 0},o?{justifyContent:i?"center":void 0,alignItems:a?"center":void 0}:{justifyContent:a?"center":void 0,alignItems:i?"center":void 0}),r)},c),{},{children:t}))},be=function(e){var t=e.title,o=e.selectedType,n=e.type,i=e.children,r=e.setType,c=Object(ce.a)(e,le);return Object(d.jsx)(M.a,{title:t,children:Object(d.jsx)(R.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:c.height,width:c.width,cursor:"pointer",border:"".concat(o===n?4:2,"px solid ").concat(o===n?"#3f51b5":"#616161"),borderRadius:8},onClick:function(){r(n)},children:a.a.cloneElement(i,{width:"100%",height:"100%",viewBox:"0 0 100 100"})})})};be.defaultProps={width:100,height:100};var ge=o(121),ye=o.p+"static/media/default.5e9e89a0.jpg",pe=o.p+"static/media/light.fef2598b.jpg",he=o.p+"static/media/dark.51613af7.png",je=o.p+"static/media/physical.9ed55fc0.jpg",me=new B.TextureLoader,Oe=ye,fe=[ye,pe,he,je],xe={globeTexture:{texture:me.load(Oe),src:Oe},backgroundSrc:"",globeTextures:[fe.includes(Oe)?"":Oe].concat(fe).filter((function(e){return""!==e}))},ve={setGlobeTexture:function(e){return{type:"globe/texture/SET_GLOBE_TEXTURE",src:e}},addGlobeTexture:function(e){return{type:"globe/texture/ADD_GLOBE_TEXTURE",src:e}},setBackgroundSrc:function(e){return{type:"globe/texture/SET_BACKGROUND_SRC",value:e}}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"globe/texture/SET_BACKGROUND_SRC":return document.body.style.backgroundImage="url(".concat(t.value,")"),Object(y.a)(Object(y.a)({},e),{},{backgroundSrc:t.value});case"globe/texture/SET_GLOBE_TEXTURE":return Object(y.a)(Object(y.a)({},e),{},{globeTexture:{texture:me.load(t.src),src:t.src}});case"globe/texture/ADD_GLOBE_TEXTURE":return Object(y.a)(Object(y.a)({},e),{},{globeTextures:[t.src].concat(Object(_.a)(e.globeTextures))});default:return e}},we=o(168),Ce=o.n(we),De=o(183),Ae=function(e){var t=Object(n.useState)(!1),o=Object(p.a)(t,2),a=o[0],i=o[1],r=function(){i(!1),window.selectingEnabled=!0};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(R.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(d.jsx)(M.a,{title:e.color,children:Object(d.jsx)(v.a,{elevation:4,style:{width:e.size,height:e.size,background:e.color,borderRadius:5,border:"1px solid rgba(0,0,0,0.1)",marginRight:e.needResetButton?10:0},onClick:function(){i(!0),window.selectingEnabled=!1}})}),e.needResetButton&&Object(d.jsx)(M.a,{title:"Reset Color",children:Object(d.jsx)(v.a,{square:!0,style:{width:e.size,display:"flex",background:"#e0e0e0",borderRadius:5,alignItems:"center",justifyContent:"center"},onClick:e.handleResetClick,children:Object(d.jsx)(Ce.a,{style:{fontSize:40}})})})]}),Object(d.jsx)(E.a,{open:a,keepMounted:!0,onClose:r,children:Object(d.jsx)(z.a,{children:Object(d.jsx)(De.a,{value:e.color,disableAlpha:!e.alpha,deferred:!0,onChange:function(t){e.handleColorSet(t.css.backgroundColor),r()}})})})]})};Ae.defaultProps={size:65,alpha:!1,needResetButton:!1,handleResetClick:function(){}};var Te=Ae,Me=o(172),Pe=o.n(Me),Re=o(169),Ee=function(e,t,o,n){var a=o/2,i=n/2,r=e.clone().project(t);return r.x=r.x*a+a,r.y=-r.y*i+i,{top:r.y,left:r.x}};function ke(e){return new Promise((function(t,o){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)}))}var ze=function(){var e=Object(g.a)(Object(b.a)().mark((function e(t){var o,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()}));case 2:return o=e.sent,e.next=5,ke(o);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();window.cc=function(e){var t=new Re.SpriteText2D(e);return t.scale.set(.01,.01,.01),t};var Ie=Object(c.b)((function(e){return{open:e.threeReducer.isSettingsOpen,orbitSettings:e.threeReducer.orbitSettings,dots:e.threeReducer.dots,dotSize:e.threeReducer.dotSize,dotColor:e.threeReducer.dotColor,atmosphereColor:e.threeReducer.atmosphereColor,rendererColor:e.threeReducer.rendererColor,globeTexture:e.textureReducer.globeTexture,globeTextures:e.textureReducer.globeTextures,noteMode:e.threeReducer.noteMode,cameraPosition:e.threeReducer.cameraPosition}}),{setOpen:oe.setIsSettingsOpen,setIsOrbitSettings:oe.setIsOrbitSettings,setAtmosphereColor:oe.setAtmosphereColor,setBackgroundSrc:ve.setBackgroundSrc,setGlobeTexture:ve.setGlobeTexture,addGlobeTexture:ve.addGlobeTexture,setCameraAction:oe.setCameraAction,setRendererColor:oe.setRendererColor})((function(e){var t=Object(n.useState)(!1),o=Object(p.a)(t,2),a=o[0],i=o[1],r=Object(n.useState)(""),c=Object(p.a)(r,2),s=c[0],u=c[1],h=Object(n.useState)(!1),m=Object(p.a)(h,2),_=m[0],B=m[1],N=Object(n.useState)(void 0),L=Object(p.a)(N,2),G=L[0],F=L[1],V=Object(n.useState)(!1),W=Object(p.a)(V,2),X=W[0],K=W[1],Y=Object(n.useState)(e.globeTexture.src),J=Object(p.a)(Y,2),Z=J[0],Q=J[1],q=Object(ge.b)().enqueueSnackbar,$=function(t,o){var n=Object(y.a)({},e.orbitSettings);switch(o){case"rotate":n.enableRotate=t;break;case"zoom":n.enableZoom=t;break;case"pan":n.enablePan=t;break;case"autoRotate":n.autoRotate=t;break;case"enableDamping":n.enableDamping=t;break;case"autoRotateSpeed":n.autoRotateSpeed=t;break;case"dampingFactor":n.dampingFactor=t}e.setIsOrbitSettings(n)},ee=function(){var t=Object(g.a)(Object(b.a)().mark((function t(){var o,n,a;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==s){t.next=3;break}return de(q,"Domain can't be empty"),t.abrupt("return");case 3:if(B(!0),t.prev=4,i=s,r={dots:e.dots,orbitSettings:e.orbitSettings,dotsProps:{color:e.dotColor,size:e.dotSize,noteMode:e.noteMode},cameraPosition:e.cameraPosition,rendererColor:e.rendererColor,atmosphereColor:e.atmosphereColor},o={__SHA256:H(i),__SHA512:H(JSON.stringify(r),i)},(n=e.globeTexture.src).startsWith("data")){t.next=11;break}return t.next=10,ze(n);case 10:n=t.sent;case 11:return t.next=13,U(s,o.__SHA256,o.__SHA512,n);case 13:a=t.sent,F(a),de(q,"Your globe file is ready","success"),B(!1),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(4),alert(t.t0),B(!1);case 23:case"end":return t.stop()}var i,r}),t,null,[[4,19]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[!e.open&&Object(d.jsx)(f.a,{sx:{m:2,position:"absolute",top:0,right:0},onClick:function(){e.setOpen(!0)},children:Object(d.jsx)(O.a,{})}),Object(d.jsx)(x.a,{in:e.open,children:Object(d.jsxs)(v.a,{sx:{p:3,m:2,position:"absolute",top:0,right:0,width:250},children:[Object(d.jsx)(f.a,{sx:{position:"absolute",top:0,right:0},onClick:function(){e.setOpen(!1)},children:Object(d.jsx)(j.a,{})}),Object(d.jsxs)(S.a,{children:[Object(d.jsx)(w.a,{control:Object(d.jsx)(C.a,{checked:e.orbitSettings.enableRotate,onChange:function(e){$(e.target.checked,"rotate")}}),label:"Enable Rotate"}),Object(d.jsx)(w.a,{control:Object(d.jsx)(C.a,{checked:e.orbitSettings.enableZoom,onChange:function(e){$(e.target.checked,"zoom")}}),label:"Enable Zoom"}),Object(d.jsx)(w.a,{control:Object(d.jsx)(C.a,{checked:e.orbitSettings.enablePan,onChange:function(e){$(e.target.checked,"pan")}}),label:"Enable Pan"}),Object(d.jsx)(w.a,{control:Object(d.jsx)(C.a,{checked:e.orbitSettings.autoRotate,onChange:function(e){$(e.target.checked,"autoRotate")}}),label:"Auto Rotate"}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{justifyContent:"space-between",gap:2},children:[Object(d.jsx)(D.a,{style:{width:180},step:.1,min:-5,max:5,value:e.orbitSettings.autoRotateSpeed,valueLabelDisplay:"auto",onChange:function(e,t){"number"==typeof t&&$(t,"autoRotateSpeed")}}),Object(d.jsx)(A.a,{style:{width:70},label:"Speed",variant:"outlined",size:"small",type:"number",value:e.orbitSettings.autoRotateSpeed,onChange:function(e){var t=parseFloat(e.target.value);$(t,"autoRotateSpeed")}})]})]}),Object(d.jsx)(T.a,{sx:{mt:2}}),Object(d.jsxs)(ue,{column:!0,centerX:!0,centerY:!0,sx:{mt:1},children:[Object(d.jsx)(l.a,{children:"Camera Position"}),Object(d.jsxs)(ue,{sx:{mt:1,gap:"5px"},children:[Object(d.jsx)(M.a,{title:"Save current camera position",children:Object(d.jsx)(P.a,{variant:"contained",onClick:function(){return e.setCameraAction("save")},children:"Fix"})}),Object(d.jsx)(M.a,{title:"Move to saved camera position",children:Object(d.jsx)(P.a,{variant:"contained",onClick:function(){return e.setCameraAction("load")},children:"To Fixed"})}),Object(d.jsx)(M.a,{title:"Reset current and saved camera positions to app default",children:Object(d.jsx)(P.a,{variant:"contained",onClick:function(){return e.setCameraAction("reset")},children:"Reset"})})]})]}),Object(d.jsx)(T.a,{sx:{mt:2}}),Object(d.jsxs)(ue,{sx:{mt:2,justifyContent:"space-evenly"},children:[Object(d.jsxs)(R.a,{sx:{width:"40%",textAlign:"center"},onClick:function(){K(!0)},children:[Object(d.jsx)("img",{style:{height:50,borderRadius:5,border:"2px solid black"},src:e.globeTexture.src?e.globeTexture.src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAABnCAAAAABTQk1wAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfnARoPNQ0SjebnAAAAm0lEQVR42u3WsQ2AQBADwQNRGKXTGQSQOjQCaTZ5XTb6yMs5MzNz3M/s8+17nX/Fy8vLm9qO+92f+zk/e//tf3l5eXlTi/1bjZeXlzdl/3bj5eXlTdm/3Xh5eXlT9m83Xl5e3pT9242Xl5c3Zf924+Xl5U3Zv914eXl5U/ZvN15eXt6U/duNl5eXN2X/duPl5eVN2b/deHl53+sCraOVDYZXSjEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDEtMjZUMTU6NTA6NTIrMDA6MDBLo1OjAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAxLTI2VDE1OjUwOjUyKzAwOjAwOv7rHwAAAABJRU5ErkJggg=="}),Object(d.jsx)(l.a,{children:"Globe Texture"})]}),Object(d.jsxs)(R.a,{sx:{width:"40%",textAlign:"center"},children:[Object(d.jsx)(Te,{size:50,alpha:!0,color:e.rendererColor,handleColorSet:e.setRendererColor}),Object(d.jsx)(l.a,{sx:{marginTop:"5px"},children:"Background"})]})]}),Object(d.jsxs)(ue,{centerY:!0,sx:{mt:2,justifyContent:"space-evenly"},children:[Object(d.jsx)(l.a,{children:"Globe Atmosphere Color"}),Object(d.jsx)(Te,{size:40,color:e.atmosphereColor,handleColorSet:e.setAtmosphereColor})]}),Object(d.jsx)(T.a,{sx:{mt:2}}),Object(d.jsx)(ue,{centerX:!0,sx:{mt:1},children:Object(d.jsx)(P.a,{onClick:function(){i(!0)},children:"Download"})})]})}),Object(d.jsxs)(E.a,{open:a,children:[Object(d.jsxs)(k.a,{children:["Download your globe",Object(d.jsx)(f.a,{onClick:function(){i(!1)},sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(d.jsx)(ie.a,{})})]}),Object(d.jsxs)(z.a,{children:[Object(d.jsx)(l.a,{children:"To download you globe project files you need to write domain of your site"}),Object(d.jsx)(l.a,{children:"Write your domain carefully, because your globe will not work on any other domain than the one you write below!"}),Object(d.jsxs)(ue,{sx:{mt:2,gap:2},children:[Object(d.jsx)(A.a,{title:"Domain",sx:{width:200},size:"small",value:s,onChange:function(e){u(e.target.value)}}),_?Object(d.jsx)(re.a,{}):G?Object(d.jsx)(P.a,{variant:"contained",onClick:function(){G.click()},children:"Download"}):Object(d.jsx)(P.a,{variant:"contained",onClick:ee,children:"Prepare Files"})]})]})]}),Object(d.jsxs)(E.a,{maxWidth:"lg",open:X,children:[Object(d.jsx)(k.a,{children:"Choose Texture"}),Object(d.jsx)(z.a,{dividers:!0,children:Object(d.jsxs)(R.a,{sx:{display:"grid",gridTemplateColumns:"auto auto auto auto",gridColumnGap:5,gridRowGap:15},children:[Object(d.jsx)(ue,{centerX:!0,centerY:!0,sx:{width:200,height:100,backgroundColor:"#bfbfbf",cursor:"pointer"},onClick:function(){!function(t){var o=document.createElement("input");o.type="file",o.accept="image/*",o.onchange=function(){var o=Object(g.a)(Object(b.a)().mark((function o(n){var a,i,r;return Object(b.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=n.target.files){o.next=3;break}return o.abrupt("return");case 3:i=a[0],r=window.URL.createObjectURL(i),"globe"===t?e.addGlobeTexture(r):"background"===t&&e.setBackgroundSrc(r);case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),o.click()}("globe")},children:Object(d.jsx)(Pe.a,{htmlColor:"#ffffff"})}),e.globeTextures.map((function(e){return Object(d.jsx)(be,{width:200,type:e,selectedType:Z,setType:function(e){Q(e)},children:Object(d.jsx)("img",{src:e,alt:e,style:{borderRadius:8}})},e)}))]})}),Object(d.jsxs)(I.a,{children:[Object(d.jsx)(P.a,{onClick:function(){K(!1)},children:"Cancel"}),Object(d.jsx)(P.a,{onClick:function(){Z&&e.globeTextures.includes(Z)&&e.setGlobeTexture(Z),K(!1)},children:"Ok"})]})]})]})})),_e=o(176),Be=o.n(_e),Ne=o(175),Le=o.n(Ne),Ge=o(349),Fe=o(339),Ve=o(335),He=o(342),We=o(338),Ue=o(361),Xe=o(173),Ke=o(332),Ye=function(e){return Object(d.jsx)(R.a,{style:{width:"100%",marginTop:15,height:"inherit"},children:Object(d.jsx)(Ke.a,{style:{maxHeight:"90%",overflowY:"auto"},autoHeight:!0,hideFooter:!0,columns:[{field:"id"},{field:"city"},{field:"color"},{field:"size"},{field:"data"}],rows:e.dots.map((function(e){return{id:e.id,city:e.city,color:e.color,size:e.size}})),checkboxSelection:!0,selectionModel:e.selectedDotsIds,onSelectionModelChange:function(t){e.setSelectedDotsIds(t)}})})},Je=o(87),Ze=o(321),Qe=function(e){var t=e.dots.filter((function(t){return e.ids.includes(t.id)})),o=Object(n.useState)(t.every((function(e){return e.size===t[0].size}))&&t[0].size?t[0].size:e.globalDotSize),a=Object(p.a)(o,2),i=a[0],r=a[1],c=Object(n.useState)(t.every((function(e){return e.color===t[0].color}))&&t[0].color?t[0].color:e.globalDotColor),s=Object(p.a)(c,2),u=s[0],b=s[1],g=Object(n.useState)(t.every((function(e){return e.note===t[0].note}))&&t[0].note?t[0].note:""),y=Object(p.a)(g,2),h=y[0],j=y[1],m=Object(n.useState)(t.every((function(e){return e.noteMode===t[0].noteMode}))&&t[0].noteMode?t[0].noteMode:e.globalNoteMode),O=Object(p.a)(m,2),x=O[0],S=O[1];Object(n.useEffect)((function(){var t=e.dots.filter((function(t){return e.ids.includes(t.id)}));r(t.every((function(e){return e.size===t[0].size}))&&t[0].size?t[0].size:e.globalDotSize),b(t.every((function(e){return e.color===t[0].color}))&&t[0].color?t[0].color:e.globalDotColor),j(t.every((function(e){return e.note===t[0].note}))&&t[0].note?t[0].note:""),S(t.every((function(e){return e.noteMode===t[0].noteMode}))&&t[0].noteMode?t[0].noteMode:e.globalNoteMode)}),[e]);return Object(d.jsx)(Ze.a,{direction:"down",in:!0,children:Object(d.jsx)(R.a,{style:{position:"absolute",left:415,top:0},children:Object(d.jsxs)(v.a,{style:{position:"relative",width:250,display:"flex",flexDirection:"column",alignItems:"center",padding:25,paddingBottom:10},elevation:10,children:[Object(d.jsx)(l.a,{mb:2,variant:"h6",children:t.map((function(e){return e.city})).join(", ")}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{mb:2,justifyContent:"space-between"},children:[Object(d.jsx)(D.a,{style:{width:150},step:.05,min:0,max:3,value:i,valueLabelDisplay:"auto",onChange:function(e,t){"number"==typeof t&&r(t)},onChangeCommitted:function(e,t){}}),Object(d.jsx)(A.a,{style:{width:80},label:"Dots Size",variant:"outlined",size:"small",type:"number",value:i,onChange:function(e){var t=parseFloat(e.target.value);r(t=t>1?1:t<0?0:t)}})]}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{mb:2,justifyContent:"space-between",gap:2},children:[Object(d.jsx)(A.a,{label:"Note",variant:"outlined",size:"small",value:h,onChange:function(e){j(e.target.value)}}),Object(d.jsx)(Te,{size:40,color:u,handleColorSet:b})]}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{justifyContent:"space-between",mt:2},children:[Object(d.jsx)(l.a,{children:"Note Display Mode"}),Object(d.jsxs)(Ge.a,{sx:{width:100},size:"small",children:[Object(d.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Mode"}),Object(d.jsxs)(Ve.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,label:"Mode",onChange:function(e){S(e.target.value)},children:[Object(d.jsx)(He.a,{value:"always",children:"Always"}),Object(d.jsx)(He.a,{value:"hover",children:"On Hover"})]})]})]}),Object(d.jsx)(P.a,{onClick:function(){var t,o=Object(_.a)(e.dots),n=Object(Je.a)(o);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.ids.includes(a.id)&&(a.size=i,a.color=u,a.noteMode=x,""!==h&&(a.note=h))}}catch(r){n.e(r)}finally{n.f()}e.setDots(o),e.setSelectedDotsIds([])},children:"Apply"}),Object(d.jsx)(f.a,{"aria-label":"close",onClick:function(){e.setSelectedDotsIds([])},sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(d.jsx)(ie.a,{})})]})})})},qe=o(174),$e=o.n(qe),et=Object(c.b)((function(e){return{dotColor:e.threeReducer.dotColor,dotSize:e.threeReducer.dotSize,dots:e.threeReducer.dots,selectedDotsIds:e.threeReducer.selectedDotsIds,noteMode:e.threeReducer.noteMode}}),{setDots:oe.setDots,addDot:oe.addDot,setDotSize:oe.setDotSize,setDotColor:oe.setDotColor,setSelectedDotsIds:oe.setSelectedDotsIds,removeDots:oe.removeDots,resetDots:oe.resetDots,setNoteMode:oe.setNoteMode,setPointPickMode:oe.setPointPickMode})((function(e){var t=Object(n.useState)(e.dotSize),o=Object(p.a)(t,2),a=o[0],i=o[1];return Object(n.useEffect)((function(){i(e.dotSize)}),[e.dotSize]),Object(d.jsx)(R.a,{top:0,left:0,m:2,sx:{position:"absolute"},children:Object(d.jsxs)(v.a,{sx:{width:350,height:852,display:"flex",flexDirection:"column",alignItems:"center",padding:3},elevation:10,children:[Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{justifyContent:"space-between"},children:[Object(d.jsx)(D.a,{style:{width:180},step:.05,min:0,max:3,value:a,valueLabelDisplay:"auto",onChange:function(e,t){"number"==typeof t&&i(t)},onChangeCommitted:function(t,o){"number"==typeof o&&e.setDotSize(o)}}),Object(d.jsx)(A.a,{style:{width:80},label:"Dots Size",variant:"outlined",size:"small",type:"number",value:e.dotSize,onChange:function(t){var o=parseFloat(t.target.value);o=o>1?1:o<0?0:o,e.setDotSize(o)}}),Object(d.jsx)(Te,{size:40,color:e.dotColor,handleColorSet:e.setDotColor})]}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{justifyContent:"space-between",mt:2},children:[Object(d.jsx)(l.a,{children:"Note Display Mode"}),Object(d.jsxs)(Ge.a,{sx:{width:185},children:[Object(d.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Mode"}),Object(d.jsxs)(Ve.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.noteMode,label:"Mode",onChange:function(t){e.setNoteMode(t.target.value)},children:[Object(d.jsx)(He.a,{value:"always",children:"Always"}),Object(d.jsx)(He.a,{value:"hover",children:"On Hover"})]})]})]}),Object(d.jsxs)(ue,{fullWidth:!0,centerY:!0,sx:{gap:2,mt:2},children:[Object(d.jsx)(We.a,{style:{width:290},id:"tags-outlined",options:Xe,getOptionLabel:function(e){return e.city},filterSelectedOptions:!0,onChange:function(t,o){!o||e.dots.filter((function(e){return e.id===o.id})).length>0||e.addDot(o)},renderInput:function(e){return Object(d.jsx)(A.a,Object(y.a)(Object(y.a)({},e),{},{variant:"outlined",label:"Cities",placeholder:"Cities"}))}}),Object(d.jsx)(f.a,{title:"Add custom point",size:"medium",onClick:function(){return e.setPointPickMode(!0)},children:Object(d.jsx)($e.a,{fontSize:"medium"})})]}),e.selectedDotsIds.length>0&&Object(d.jsxs)(ue,{fullWidth:!0,centerX:!0,centerY:!0,sx:{gap:2,mt:2},children:[Object(d.jsx)(l.a,{variant:"h6",children:"Actions:"}),Object(d.jsx)(M.a,{title:"Reset selected to global design",children:Object(d.jsxs)(Ue.a,{size:"small",color:"primary",onClick:function(){e.resetDots(e.selectedDotsIds)},children:[" ",Object(d.jsx)(Le.a,{})]})}),Object(d.jsx)(M.a,{title:"Delete selected",children:Object(d.jsxs)(Ue.a,{size:"small",color:"error",onClick:function(){e.removeDots(e.selectedDotsIds)},children:[" ",Object(d.jsx)(Be.a,{})]})})]}),Object(d.jsx)(Ye,{dots:e.dots,selectedDotsIds:e.selectedDotsIds,setSelectedDotsIds:e.setSelectedDotsIds}),e.selectedDotsIds.length>0&&Object(d.jsx)(Qe,{ids:e.selectedDotsIds,dots:e.dots,globalDotColor:e.dotColor,globalDotSize:e.dotSize,globalNoteMode:e.noteMode,setSelectedDotsIds:e.setSelectedDotsIds,setDots:e.setDots})]})})})),tt=o(11),ot=o(10),nt=o(14),at=o(15),it=o(177),rt=o(185),ct=o(178),st=o(179),lt=o(105),dt=o(180),ut=o.p+"static/media/spriteAlpha.1c25f1d2.png",bt=["notes"],gt=function(e){var t=e.notes,o=Object(ce.a)(e,bt);return Object(n.useEffect)((function(){o.updateDotsHintsPoses()})),Object(d.jsx)(d.Fragment,{children:t.map((function(e){var t=Ee(e.position,o.camera,window.innerWidth,window.innerHeight);return Object(d.jsxs)(R.a,{id:"note_"+e.id,className:"note",sx:{position:"absolute",top:t.top-15+"px",left:t.left+"px",transform:"translate(-50%, -100%)",display:"flex",flexDirection:"column",alignItems:"center",transition:"opacity 500ms ease 0s"},children:[Object(d.jsx)(v.a,{sx:{p:2},children:e.note}),Object(d.jsx)(R.a,{sx:{width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid white"}})]},e.id)}))})},yt={setDots:oe.setDots,addCoord:oe.addCoord,setCameraPosition:oe.setCameraPosition,setCameraAction:oe.setCameraAction,setPointPickMode:oe.setPointPickMode,addDot:oe.addDot},pt=o(181),ht=o.n(pt),jt=function(e){var t=Object(n.useState)(""),o=Object(p.a)(t,2),a=o[0],i=o[1],r=Object(n.useState)(""),c=Object(p.a)(r,2),s=c[0],l=c[1];return Object(d.jsxs)(E.a,{open:!!e.coord,children:[Object(d.jsx)(k.a,{children:"Confirm New Point"}),Object(d.jsx)(z.a,{children:Object(d.jsx)(A.a,{sx:{mt:1},label:"City Name",value:a,onChange:function(e){i(e.target.value)},error:!!s,helperText:s})}),Object(d.jsxs)(I.a,{children:[Object(d.jsx)(P.a,{color:"error",onClick:e.closeCallback,children:"Cancel"}),Object(d.jsx)(P.a,{onClick:function(){""!=a?(e.addDot({id:"c"+(e.customDotsCount+1),city:a,lat:0,lng:0,country:"",position:e.coord}),i(""),e.closeCallback()):l("City name can't be empty")},children:"Add"})]})]})},mt=function(e){Object(nt.a)(o,e);var t=Object(at.a)(o);function o(){var e;Object(tt.a)(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).myDiv=void 0,e.frameId=void 0,e.scene=new B.Scene,e.camera=new B.PerspectiveCamera(4.5,window.innerWidth/window.innerHeight,.1,2e4),e.renderer=new B.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0,alpha:!0}),e.orbit=new it.a(e.camera,e.renderer.domElement),e.isOrbitPaused=!1,e.composer=new rt.a(e.renderer),e.outlinePass=new ct.a(new B.Vector2(window.innerWidth,window.innerHeight),e.scene,e.camera),e.renderPass=new st.a(e.scene,e.camera),e.effectFXAA=new lt.a(dt.a),e.raycater=new B.Raycaster,e.mouse=new B.Vector2,e.isMouseDown=!1,e.dots=[],e.alreadyIntersected=!1,e.hoveredDot=null,e.leapValue=null,e.needScale=null,e.alreadyScaling=!1,e.globe=new B.Mesh(new B.SphereGeometry(e.props.globusRadius,50,50),e.props.globusMaterial),e.sprite=new B.Sprite,e.checkPoint=new B.Vector3(0,0,e.props.globusRadius),e.checkPlane=new B.Plane(new B.Vector3(0,0,1)),e.light=new B.HemisphereLight(16777215,16777215,.05),e.light2=new B.PointLight,e.needRender=!1,e.notes=[],e.state={notes:[],coordNeedConfirm:void 0},e.setNeedRender=function(t){e.needRender=t},e.saveStateInLocalStorage=function(){localStorage.setItem("dots",JSON.stringify(e.props.dots)),localStorage.setItem("dotsProps",JSON.stringify({size:e.props.dotSize,color:e.props.dotColor,noteMode:e.props.noteMode})),localStorage.setItem("orbitSettings",JSON.stringify(e.props.orbitSettings)),localStorage.setItem("cameraPosition",JSON.stringify(e.props.cameraPosition)),localStorage.setItem("rendererColor",e.props.rendererColor),localStorage.setItem("atmosphereColor",e.props.atmosphereColor)},e.saveGlobeTextureInLocalStorage=Object(g.a)(Object(b.a)().mark((function t(){var o;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.globeTexture.src.startsWith("/")){t.next=4;break}localStorage.setItem("globeTexture",e.props.globeTexture.src),t.next=8;break;case 4:return t.next=6,ze(e.props.globeTexture.src);case 6:o=t.sent,localStorage.setItem("globeTexture",o);case 8:case"end":return t.stop()}}),t)}))),e.init=function(){var t=e.props.rendererColor.slice(0,7),o=e.props.rendererColor.slice(7),n=1;2===o.length&&(n=parseInt(o,16)/255),e.renderer.setClearColor(new B.Color(t),n),e.orbit.enableRotate=!1,e.orbit.enablePan=e.props.orbitSettings.enablePan,e.orbit.enableZoom=e.props.orbitSettings.enableZoom,e.orbit.minPolarAngle=Math.PI/2,e.orbit.maxPolarAngle=Math.PI/2,e.camera.position.set(0,5,107),e.camera.lookAt(0,.7*e.props.globusRadius,0),e.orbit.target=new B.Vector3(0,.7*e.props.globusRadius,0),e.orbit.target0=new B.Vector3(e.props.cameraPosition.target.x,e.props.cameraPosition.target.y,e.props.cameraPosition.target.z),e.orbit.position0=new B.Vector3(e.props.cameraPosition.position.x,e.props.cameraPosition.position.y,e.props.cameraPosition.position.z),e.orbit.zoomO=e.props.cameraPosition.zoom,e.orbit.reset(),(new B.TextureLoader).load(ut,(function(t){var o=e.globe.material;o.map=e.props.globeTexture.texture,o.map.wrapS=B.RepeatWrapping,o.map.wrapT=B.RepeatWrapping,o.map.offset.set(.25,0),e.scene.add(e.globe),e.addDots(e.props.dots,e.props.coords),e.outlinePass.selectedObjects=e.dots,e.sprite.material=new B.SpriteMaterial({color:e.props.atmosphereColor,alphaMap:t,transparent:!0,alphaTest:0}),e.sprite.scale.set(2*e.props.globusRadius*1.1,2*e.props.globusRadius*1.1,1),e.scene.add(e.sprite),e.needRender=!0,e.props.setDots(Object(_.a)(e.props.dots))})),e.initOutline(),e.renderScene()},e.addGlitchEffect=function(){e.dots.forEach((function(e){e.add(new B.Mesh(new B.SphereGeometry(1.5*e.geometry.parameters.radius,50,50),new B.MeshBasicMaterial({color:"#8300e9",transparent:!0,opacity:.07})))}))},e.initOutline=function(){e.outlinePass.visibleEdgeColor.set("#330089"),e.outlinePass.edgeGlow=0,e.outlinePass.hiddenEdgeColor.set("black"),e.outlinePass.edgeThickness=3,e.outlinePass.edgeStrength=5,e.composer.addPass(e.renderPass),e.composer.addPass(e.outlinePass),e.composer.addPass(e.effectFXAA)},e.addDots=function(t,o){t.forEach((function(t){var o=e.props.globusRadius,n=t.position?t.position:e.getPosition(t.lat,t.lng,o),a=.1*(t.size?t.size:e.props.dotSize),i=new B.Mesh(new B.SphereGeometry(a,50,50),new B.MeshBasicMaterial({color:t.color?t.color:e.props.dotColor}));i.name="Dot",i.userData={props:t,note:{value:t.note,visible:t.noteMode?"always"===t.noteMode:"always"===e.props.noteMode}},i.position.set(n.x,n.y,n.z),e.globe.add(i),e.dots.push(i)})),o.forEach((function(t){var o=t.big?.1:.03,n=new B.Mesh(new B.SphereGeometry(o,25,25),new B.MeshBasicMaterial({color:"#8300e9"}));n.position.set(t.x,t.y,t.z),e.scene.add(n),e.dots.push(n)}))},e.removeDots=function(t){t.forEach((function(t){e.globe.remove(t),t.geometry.dispose(),t.material.dispose()}))},e.getPosition=function(e,t,o){var n=B.MathUtils.degToRad(t),a=B.MathUtils.degToRad(e),i=o*Math.cos(a);return{x:i*Math.sin(n),y:o*Math.sin(a),z:i*Math.cos(n)}},e.reAssignNotesVisible=function(){var t,o=Object(Je.a)(e.dots);try{for(o.s();!(t=o.n()).done;){var n=t.value,a=n.userData.props;n.userData.note.visible=a.noteMode?"always"===a.noteMode:"always"===e.props.noteMode}}catch(i){o.e(i)}finally{o.f()}e.updateDotsHintsPoses(),e.setState({notes:[]})},e.rotateMultiplier=3,e.onMouseMove=function(t){if(e.renderer.domElement.parentElement){var o=Object(y.a)({},e.mouse);if(e.mouse.x=(t.clientX-e.renderer.domElement.parentElement.offsetLeft)/e.renderer.domElement.clientWidth*2-1,e.mouse.y=-(t.clientY-e.renderer.domElement.parentElement.offsetTop)/e.renderer.domElement.clientHeight*2+1,e.isMouseDown&&e.props.orbitSettings.enableRotate&&!e.props.pointPickMode){var n=o.x-e.mouse.x;o.y,e.mouse.y;e.globe.rotateY(-n*e.rotateMultiplier),e.updateDotsHintsPoses(),e.needRender=!0}}e.raycater.setFromCamera(e.mouse,e.camera);var a=e.raycater.intersectObjects(e.dots);a.length>0&&!e.alreadyScaling?(e.hoveredDot=a[0].object,e.leapValue=0,e.needScale=new B.Vector3(1.2,1.2,1.2),e.alreadyScaling=!0,e.hoveredDot.userData.note.visible=!0,e.updateDotsHintsPoses(),e.alreadyIntersected=!0,e.setState({notes:[]})):e.alreadyScaling||e.hoveredDot&&(e.leapValue=0,e.needScale=new B.Vector3(1,1,1),e.alreadyScaling=!0),0===a.length&&e.alreadyIntersected&&(e.reAssignNotesVisible(),e.alreadyIntersected=!1)},e.lerpHoverdDot=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05;e.hoveredDot&&((parseFloat(e.hoveredDot.scale.x.toFixed(2))<t&&o>0||parseFloat(e.hoveredDot.scale.x.toFixed(2))>t&&o<0)&&e.hoveredDot.scale.setScalar(e.hoveredDot.scale.x+o),e.renderScene(),o>0?parseFloat(e.hoveredDot.scale.x.toFixed(2))<t&&window.requestAnimationFrame((function(){e.lerpHoverdDot(t)})):parseFloat(e.hoveredDot.scale.x.toFixed(2))>t?window.requestAnimationFrame((function(){e.lerpHoverdDot(t,-.01)})):e.hoveredDot=null)},e.onMouseDown=function(){if(e.props.pointPickMode){e.raycater.setFromCamera(e.mouse,e.camera);var t=e.raycater.intersectObject(e.globe);if(t.length){var o=new B.Object3D;o.position.set(t[0].point.x,t[0].point.y,t[0].point.z);var n=new B.Object3D;n.rotation.y=0,n.add(o),n.rotation.set(-e.globe.rotation.x,-e.globe.rotation.y,-e.globe.rotation.z);var a=new B.Vector3;o.getWorldPosition(a);var i={x:a.x,y:a.y,z:a.z};e.setState({coordNeedConfirm:i})}}},e.updateDotsHintsPoses=function(){e.notes=e.globe.children.filter((function(e){return"Dot"===e.name&&e.userData.note.visible&&e.userData.note.value&&""!==e.userData.note.value})).map((function(e,t){return{id:t,note:e.userData.note,position:e.getWorldPosition(new B.Vector3)}}));for(var t=0;t<e.notes.length;t++){var o=document.getElementById("note_"+t),n=Ee(e.notes[t].position,e.camera,window.innerWidth,window.innerHeight);if(o){o.style.left=n.left+"px",o.style.top=n.top+"px";var a=new B.Line3(e.checkPoint,e.notes[t].position);e.checkPlane.intersectsLine(a)?o.style.opacity="0":o.style.opacity="1"}}},e.handleWindowResize=function(){var t=window.innerWidth,o=window.innerHeight;e.renderer.setSize(t,o),e.composer.setSize(t,o),e.effectFXAA.uniforms.resolution.value.set(1/t,1/o),e.outlinePass.resolution=new B.Vector2(t,o),e.camera.aspect=t/o,e.camera.updateProjectionMatrix()},e.start=function(){e.init(),e.frameId||(e.frameId=requestAnimationFrame(e.animate))},e.stop=function(){cancelAnimationFrame(e.frameId),window.removeEventListener("resize",e.handleWindowResize),e.orbit.dispose()},e.rotateSpeedMultiplier=.002,e.animate=function(){e.props.orbitSettings.autoRotate||e.props.orbitSettings.enableDamping?(e.props.orbitSettings.autoRotate&&!e.props.pointPickMode&&(e.globe.rotateY(e.rotateSpeedMultiplier*e.props.orbitSettings.autoRotateSpeed),e.updateDotsHintsPoses()),e.renderScene()):e.needRender&&(e.renderScene(),e.needRender=!1),null!==e.hoveredDot&&null!==e.needScale&&null!==e.leapValue&&(e.hoveredDot.scale.lerp(e.needScale,e.leapValue),e.hoveredDot.scale.x===e.needScale.x?(1===e.hoveredDot.scale.x&&(e.hoveredDot=null,e.leapValue=null,e.needScale=null),e.alreadyScaling=!1):e.leapValue+=.1,e.renderScene()),e.frameId=window.requestAnimationFrame(e.animate)},e.renderSceneWithTimeout=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;setTimeout((function(){e.renderScene()}),t)},e.renderScene=function(){e.renderer.render(e.scene,e.camera),e.orbit.update(),e.composer.render()},e}return Object(ot.a)(o,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleWindowResize),this.myDiv.addEventListener("pointerdown",(function(t){0===t.button&&(e.isMouseDown=!0)})),this.myDiv.addEventListener("pointerup",(function(t){0===t.button&&(e.isMouseDown=!1)})),this.myDiv.addEventListener("pointermove",this.onMouseMove),this.orbit.addEventListener("change",(function(t){e.needRender=!0,e.updateDotsHintsPoses()})),this.orbit.addEventListener("end",(function(t){e.needRender=!0,e.updateDotsHintsPoses()})),this.handleWindowResize(),window.scene=this.scene,window.camera=this.camera,window.Vector2=B.Vector2,window.THREE=B,window.lt=this.getLatLng,window.f=function(t,o,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#8300e9";e.outlinePass.edgeGlow=t,e.outlinePass.visibleEdgeColor.set(a),e.outlinePass.edgeThickness=o,e.outlinePass.edgeStrength=n,e.renderScene(),console.log("edgeGlow -> ".concat(e.outlinePass.edgeGlow," \n edgeThickness -> ").concat(e.outlinePass.edgeThickness," \n edgeStrength -> ").concat(e.outlinePass.edgeStrength))},window.orbit=this.orbit,window.tthis=this,window.scene=this.scene,window.children=this.scene.children,window.globe=this.globe,this.myDiv.appendChild(this.renderer.domElement),this.start()}},{key:"componentWillUnmount",value:function(){this.stop(),this.myDiv.removeChild(this.renderer.domElement)}},{key:"componentDidUpdate",value:function(e){if(e.dots!==this.props.dots||e.coords!==this.props.coords||e.dotColor!==this.props.dotColor||e.dotSize!==this.props.dotSize||e.noteMode!==this.props.noteMode)this.removeDots(this.dots),this.dots=[],this.addDots(this.props.dots,this.props.coords),this.outlinePass.selectedObjects=this.dots,this.notes=this.globe.children.filter((function(e){return"Dot"===e.name&&e.userData.note.visible&&e.userData.note.value&&""!==e.userData.note.value})).map((function(e,t){return{id:t,note:e.userData.note,position:e.getWorldPosition(new B.Vector3)}})),this.reAssignNotesVisible(),setTimeout(this.updateDotsHintsPoses,100);else if(e.orbitSettings!==this.props.orbitSettings)this.orbit.enablePan=this.props.orbitSettings.enablePan,this.orbit.enableZoom=this.props.orbitSettings.enableZoom;else if(e.rendererColor!==this.props.rendererColor){var t=this.props.rendererColor.slice(0,7),o=this.props.rendererColor.slice(7),n=1;2===o.length&&(n=parseInt(o,16)/255),this.renderer.setClearColor(new B.Color(t),n)}else e.atmosphereColor!==this.props.atmosphereColor?this.sprite.material.color=new B.Color(this.props.atmosphereColor):e.cameraAction!==this.props.cameraAction&&"none"!==this.props.cameraAction&&("save"===this.props.cameraAction?(this.orbit.saveState(),this.props.setCameraPosition({position:{x:this.orbit.position0.x,y:this.orbit.position0.y,z:this.orbit.position0.z},target:{x:this.orbit.target0.x,y:this.orbit.target0.y,z:this.orbit.target0.z},zoom:this.orbit.zoomO})):"load"===this.props.cameraAction?(this.orbit.target0=new B.Vector3(this.props.cameraPosition.target.x,this.props.cameraPosition.target.y,this.props.cameraPosition.target.z),this.orbit.position0=new B.Vector3(this.props.cameraPosition.position.x,this.props.cameraPosition.position.y,this.props.cameraPosition.position.z),this.orbit.zoomO=this.props.cameraPosition.zoom,this.orbit.reset()):(this.orbit.target0=new B.Vector3(X.target.x,X.target.y,X.target.z),this.orbit.position0=new B.Vector3(X.position.x,X.position.y,X.position.z),this.orbit.zoomO=X.zoom,this.orbit.reset(),this.props.setCameraPosition(Object(y.a)({},X))),this.props.setCameraAction("none"));e.globeTexture!==this.props.globeTexture&&(this.globe.material.map=this.props.globeTexture.texture,this.globe.material.map.wrapS=B.RepeatWrapping,this.globe.material.map.wrapT=B.RepeatWrapping,this.globe.material.map.offset.set(.25,0),this.globe.material.needsUpdate,this.saveGlobeTextureInLocalStorage(),this.renderSceneWithTimeout()),this.saveStateInLocalStorage(),this.renderScene()}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:this.onMouseDown,className:"three",style:{position:"relative"},ref:function(t){e.myDiv=t}}),Object(d.jsx)(gt,{camera:this.camera,globus:this.globe,orbit:this.orbit,dots:this.props.dots,updateDotsHintsPoses:this.updateDotsHintsPoses,notes:this.globe.children.filter((function(e){return!("Dot"!==e.name||!e.userData.note.visible||!e.userData.note.value||""===e.userData.note.value)})).map((function(e,t){return{id:t,note:e.userData.note.value,position:e.getWorldPosition(new B.Vector3)}}))}),Object(d.jsx)(Ze.a,{direction:"down",in:this.props.pointPickMode,children:Object(d.jsxs)(R.a,{sx:{position:"absolute",top:5,width:1,display:"flex",justifyContent:"center",alignItems:"center",gap:1},children:[Object(d.jsx)(l.a,{variant:"h6",children:"Point Pick Mode"}),Object(d.jsx)(M.a,{title:"Click on globe to place point",children:Object(d.jsx)(ht.a,{color:"inherit"})}),Object(d.jsx)(Ue.a,{sx:{ml:1},size:"small",color:"primary",onClick:function(){return e.props.setPointPickMode(!1)},children:Object(d.jsx)(ie.a,{})})]})}),Object(d.jsx)(jt,{customDotsCount:this.props.dots.filter((function(e){return"string"===typeof e.id&&"c"===e.id[0]})).length,coord:this.state.coordNeedConfirm,closeCallback:function(){return e.setState({coordNeedConfirm:void 0})},addDot:this.props.addDot})]})}}]),o}(n.Component),Ot=Object(c.b)((function(e){return{globeTexture:e.textureReducer.globeTexture,rendererColor:e.threeReducer.rendererColor,orbitSettings:e.threeReducer.orbitSettings,globusRadius:e.threeReducer.globus.radius,globusMaterial:e.threeReducer.globus.material,dots:e.threeReducer.dots,coords:e.threeReducer.coords,dotColor:e.threeReducer.dotColor,dotSize:e.threeReducer.dotSize,noteMode:e.threeReducer.noteMode,atmosphereColor:e.threeReducer.atmosphereColor,cameraAction:e.threeReducer.cameraAction,cameraPosition:e.threeReducer.cameraPosition,pointPickMode:e.threeReducer.pointPickMode}}),yt)(mt),ft=Object(c.b)((function(e){return{isDevelopment:e.threeReducer.isDevelopment,errorMessage:e.threeReducer.errorMessage,pointPickMode:e.threeReducer.pointPickMode}}),{setDevelopmentMode:oe.setDevelopmentMode})((function(e){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(Ot,{}),e.isDevelopment&&!e.pointPickMode&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(et,{}),Object(d.jsx)(Ie,{})]}),!1,""!==e.errorMessage&&Object(d.jsx)(u,{message:e.errorMessage})]})})),xt=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,362)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;o(e),n(e),a(e),i(e),r(e)}))},vt=o(109),St=o(182),wt=Object(vt.b)({threeReducer:ne,textureReducer:Se}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||vt.c,Dt=Object(vt.d)(wt,Ct(Object(vt.a)(St.a)));r.a.render(Object(d.jsx)(c.a,{store:Dt,children:Object(d.jsx)(ge.a,{children:Object(d.jsx)(ft,{})})}),document.getElementById("root")),xt()}},[[260,1,2]]]);
//# sourceMappingURL=main.b709ae69.chunk.js.map